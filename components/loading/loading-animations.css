/* Essential loading animations - Optimized for performance */

/* Basic spin animation - Tailwind's animate-spin */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Keep basic wave for bars */
@keyframes wave {
    0%,
    40%,
    100% {
      transform: scaleY(0.4);
    }
    20% {
      transform: scaleY(1);
    }
  }

/* Keep fade for grid */
@keyframes fade {
    0%,
    80%,
    100% {
      opacity: 0;
    }
    40% {
      opacity: 1;
    }
  }

/* Square Split Animation - CORRECTED: Splits into 4 pieces and moves apart */
@keyframes square-split-1 {
  0%, 100% { 
    transform: translate(0%, 0%) scale(1);
    opacity: 1;
  }
  50% { 
    transform: translate(-100%, -100%) scale(0.5);
    opacity: 0.6;
  }
}

@keyframes square-split-2 {
  0%, 100% { 
    transform: translate(0%, 0%) scale(1);
    opacity: 1;
  }
  50% { 
    transform: translate(100%, -100%) scale(0.5);
    opacity: 0.6;
  }
}

@keyframes square-split-3 {
  0%, 100% { 
    transform: translate(0%, 0%) scale(1);
    opacity: 1;
  }
  50% { 
    transform: translate(-100%, 100%) scale(0.5);
    opacity: 0.6;
  }
}

@keyframes square-split-4 {
  0%, 100% { 
    transform: translate(0%, 0%) scale(1);
    opacity: 1;
  }
  50% { 
    transform: translate(100%, 100%) scale(0.5);
    opacity: 0.6;
  }
}

/* Corner Squares Animation - CORRECTED: 4 squares rotate positions clockwise */
@keyframes corner-squares-1 {
  0% { 
    transform: translate(0%, 0%) rotate(0deg) scale(1);
    opacity: 1;
  }
  25% { 
    transform: translate(100%, 0%) rotate(90deg) scale(0.8);
    opacity: 0.8;
  }
  50% { 
    transform: translate(100%, 100%) rotate(180deg) scale(0.6);
    opacity: 0.6;
  }
  75% { 
    transform: translate(0%, 100%) rotate(270deg) scale(0.8);
    opacity: 0.8;
  }
  100% { 
    transform: translate(0%, 0%) rotate(360deg) scale(1);
    opacity: 1;
  }
}

@keyframes corner-squares-2 {
  0% { 
    transform: translate(0%, 0%) rotate(0deg) scale(1);
    opacity: 1;
  }
  25% { 
    transform: translate(0%, 100%) rotate(90deg) scale(0.8);
    opacity: 0.8;
  }
  50% { 
    transform: translate(-100%, 100%) rotate(180deg) scale(0.6);
    opacity: 0.6;
  }
  75% { 
    transform: translate(-100%, 0%) rotate(270deg) scale(0.8);
    opacity: 0.8;
  }
  100% { 
    transform: translate(0%, 0%) rotate(360deg) scale(1);
    opacity: 1;
  }
}

@keyframes corner-squares-3 {
  0% { 
    transform: translate(0%, 0%) rotate(0deg) scale(1);
    opacity: 1;
  }
  25% { 
    transform: translate(-100%, 0%) rotate(90deg) scale(0.8);
    opacity: 0.8;
  }
  50% { 
    transform: translate(-100%, -100%) rotate(180deg) scale(0.6);
    opacity: 0.6;
  }
  75% { 
    transform: translate(0%, -100%) rotate(270deg) scale(0.8);
    opacity: 0.8;
  }
  100% { 
    transform: translate(0%, 0%) rotate(360deg) scale(1);
    opacity: 1;
  }
}

@keyframes corner-squares-4 {
  0% { 
    transform: translate(0%, 0%) rotate(0deg) scale(1);
    opacity: 1;
  }
  25% { 
    transform: translate(0%, -100%) rotate(90deg) scale(0.8);
    opacity: 0.8;
  }
  50% { 
    transform: translate(100%, -100%) rotate(180deg) scale(0.6);
    opacity: 0.6;
  }
  75% { 
    transform: translate(100%, 0%) rotate(270deg) scale(0.8);
    opacity: 0.8;
  }
  100% { 
    transform: translate(0%, 0%) rotate(360deg) scale(1);
    opacity: 1;
  }
}

/* Optimized performance classes */
.loading-optimized {
    will-change: transform, opacity;
    backface-visibility: hidden;
    transform: translateZ(0);
    contain: layout style paint;
}

.loading-gpu-accelerated {
    transform: translateZ(0);
    will-change: transform, opacity;
    backface-visibility: hidden;
    contain: layout style paint;
    animation-fill-mode: both;
    animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);
}

.corner-squares-container {
    position: relative;
    will-change: transform;
    backface-visibility: hidden;
    transform: translateZ(0);
    contain: layout style paint;
}

.corner-square {
    position: absolute;
    background: currentColor;
    will-change: transform, opacity;
    backface-visibility: hidden;
    transform: translateZ(0);
    contain: layout style paint;
    animation-fill-mode: both;
    animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);
}

.split-square {
    position: absolute;
    background: currentColor;
    will-change: transform, opacity;
    backface-visibility: hidden;
    transform: translateZ(0);
    contain: layout style paint;
    animation-fill-mode: both;
    animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* Performance optimizations */
@media (prefers-reduced-motion: reduce) {
  .loading-optimized,
  .loading-optimized *,
  .loading-gpu-accelerated,
  .loading-gpu-accelerated * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    will-change: auto !important;
  }
}

/* Cleanup will-change after animation */
.loading-optimized:not(:focus):not(:hover):not(:active) {
  will-change: auto;
}

.loading-gpu-accelerated:not(:focus):not(:hover):not(:active) {
  will-change: auto;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .loading-spinner {
    border-width: 3px;
  }
}

/* Dark mode optimizations */
@media (prefers-color-scheme: dark) {
  .loading-backdrop {
    backdrop-filter: blur(6px);
  }
}
